
{% extends "match_history/base.html" %}
{% load static  %}
{% block extra_styles %}
    <link rel="stylesheet" href="{% static 'match_history/css/details.css' %}">
{% endblock %}

{% block content %}
<div class="summoner-header">
    <div class="summoner-card">
        <img class="icon" src="{{summoner.profile_icon.get_url}}" alt="" >
        <div class="summoner-name">
            <p class="large-text">{{summoner.game_name}} <span id="tag">#{{summoner.tag_line}}</span></p>
            <button id = "update">Update</button>
        </div>
    </div>
</div>
<div class="main-info">
    <div class="sidebar section">

    </div>
    <div class="match-history section">
        Match History
        <div class="matches-container">
            {% for match, main_participant, blue_team, red_team, main_stats in matches%}

            <div class="match-card {% if main_participant.win%}match-win{% else %}match-lose{% endif %}">
                
                <div class="match-section-container">
                    <div class="result-section">
                        <div class="match-info">
                            <div class="queue {% if main_participant.win%}match-win{% else %}match-lose{% endif %}"> ARAM </div>
                            <div class="sub-text from-now">{{match.get_time_diff}}</div>
                            <div class="match-result sub-text">{{main_participant.match_result}}</div>
                            <div class="match-length sub-text">{{match.get_duration}}</div>
                        </div>
                    </div>
                    <div class="build-seciton">
                        <div class="champion-icon">
                            <img class="champ-img" src="{{main_participant.champion.get_url}}" alt="" >
                        </div>
                        <div class="items">
                            <div class="item1 {% if main_participant.win%}match-win{% else %}match-lose{% endif %}">
                                {% if main_participant.item1  %}
                                    <img class="item-img" src="{{main_participant.item1.get_url}}" alt="">
                                {% endif %}
                            </div>
                            <div class="item2 {% if main_participant.win%}match-win{% else %}match-lose{% endif %}">
                                {% if main_participant.item2 %}
                                    <img class="item-img" src="{{main_participant.item2.get_url}}" alt="">
                                {% endif %}
                            </div>
                            <div class="item3 {% if main_participant.win%}match-win{% else %}match-lose{% endif %}">
                                {% if main_participant.item3 %}
                                    <img class="item-img" src="{{main_participant.item3.get_url}}" alt="">
                                {% endif %}
                            </div>
                            <div class="item4 {% if main_participant.win%}match-win{% else %}match-lose{% endif %}">
                                {% if main_participant.item4 %}
                                    <img class="item-img" src="{{main_participant.item4.get_url}}" alt="">
                                {% endif %}
                            </div>
                            <div class="item5 {% if main_participant.win%}match-win{% else %}match-lose{% endif %}">
                                {% if main_participant.item5 %}
                                    <img class="item-img" src="{{main_participant.item5.get_url}}" alt="">
                                {% endif %}
                            </div>  
                            <div class="item6 {% if main_participant.win%}match-win{% else %}match-lose{% endif %}">
                                {% if main_participant.item6 %}
                                    <img class="item-img" src="{{main_participant.item6.get_url}}" alt="">
                                {% endif %}
                            </div>
                            <div class="item7"></div>
                        </div>
                    </div>
                    <div class="stat-section">
                        {{main_stats.kda}}
                        {{main_stats.cs_min}}
                    </div>
                    <div class="participant-section">
                        
                        <div class="team-blue">
                            {% for participant in blue_team %}
                            <div class="participant-entry">
                                <div class="champ-icon-small">
                                    <img class = "champ-img" src="{{participant.champion.get_url}}" alt="">
                                </div>
                                <div class="game-name {% if participant == main_participant %}highlight{% endif %}">
                                    <a href="{{participant.summoner.get_url}}"> {{participant.game_name}}</a>
                                </div>
    
                            </div>
                            {% endfor %}
                        </div>
                        <div class="team-red">
                            {% for participant in red_team %}
                                <div class="participant-entry">
                                    <div class="champ-icon-small">
                                        <img class = "champ-img" src="{{participant.champion.get_url}}" alt="">
                                    </div>
                                    <div class="game-name {% if participant == main_participant %}highlight{% endif %}">
                                        <a href="{{participant.summoner.get_url}}"> {{participant.game_name}}</a>
                                    </div>
        
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

            </div>
           {% endfor %}
        </div>
    </div>
</div>

{% endblock content %}